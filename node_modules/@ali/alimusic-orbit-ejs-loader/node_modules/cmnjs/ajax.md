```javascript
//upload plik√≥w
xhr.setRequestHeader('Content-type', 'multipart/form-data');

cmnjs.ajax('test.json').then(function(response) {
  console.log('Success!', JSON.parse(response));
}, function(error) {
  console.error('Failed!', error);
});

function getJSON(url) {
  return cmnjs.ajax(url)
    .then(JSON.parse);
}

getJSON('test.json')
  .then(console.log.bind(console))
  .catch(console.log.bind(console));

cmnjs.ajax('test.json')
  .then(JSON.parse)
  .then(console.log.bind(console))
  .catch(console.log.bind(console));

cmnjs.ajax('test.json?fff&g=1', {
    cache: 0,
    headers: [
      ['X-Secret', '666']
    ],
    xhr: function(config, resolve, reject) {
      this.addEventListener('loadstart', function(e) {
        console.log('loadstart', this, e);
      });
    }
  })
  .then(JSON.parse)
  .then(console.log.bind(console))
  .catch(console.log.bind(console));

var abortObj = {};
cmnjs.ajax('test.json?fff&g=1', {
    cache: 0,
    headers: [
      ['X-Secret', '666']
    ],
    xhr: function(config, resolve, reject) {
      this.addEventListener('abort', function(e) {
        reject(new Error('aborted'));
      });
      this.addEventListener('loadstart', function(e) {
        console.log('loadstart', this, e);
      });
    }
  }, abortObj)
  .then(JSON.parse)
  .then(console.log.bind(console))
  .catch(console.log.bind(console));

// it takes too long, kill it
abortObj.abort();
```
