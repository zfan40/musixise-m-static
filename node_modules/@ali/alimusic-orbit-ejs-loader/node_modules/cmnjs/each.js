/*

 each([0, 1, 2], function(val, key, arr) {
 console.log(val, key, arr);
 });

 each({a: 1, b: 2}, function(val, key, obj) {
 console.log(val, key, obj);
 });

 */

var isArray = require('./array/is');

var ownProperty = require('./object/ownProperty');

module.exports = function each(obj, fn) {

  var value;

  if (isArray(obj) || obj.length) {

    for (var i = 0, c = obj.length; i < c; i++) {

      value = fn.call(obj[i], obj[i], i, obj);
      if (value === false) {
        break;
      }

    }

  } else {

    for (var i in obj) {

      if (ownProperty.call(obj, i)) {
        value = fn.call(obj[i], obj[i], i, obj);
        if (value === false) {
          break;
        }
      }

    }

  }

  return obj;

};
