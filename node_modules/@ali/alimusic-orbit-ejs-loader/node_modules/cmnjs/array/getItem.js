var isArray = require('./is');
var isNumber = require('../number/is');
var inRange = require('../number/inRange');

module.exports = function arrayGetItem(index, arr, removeFromArr) {

  var returnVal;
  var arrLength = arr.length;

  if (index && isArray(arr) && arrLength) {

    if (removeFromArr) {

      if (index === 'first') {
        returnVal = arr.shift();
      } else if (index === 'last') {
        returnVal = arr.pop();
      } else if (isNumber(index) && inRange(index, 0, arrLength)) {
        returnVal = arr.splice(index, 1);
      }

    } else {

      if (index === 'first') {
        returnVal = arr.slice(0, 1)[0];
      } else if (index === 'last') {
        returnVal = arr.slice(-1)[0];
      } else if (isNumber(index) && inRange(index, 0, arrLength)) {
        returnVal = arr.slice(index, index + 1)[0];
      }

    }

  }

  return returnVal;

};
