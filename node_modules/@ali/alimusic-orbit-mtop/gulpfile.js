'use strict';

var gulp = require('gulp');
var del = require('del');
var uglify = require('gulp-uglify');

// PATHS
var paths = {
  dest: './build',
  src: './src'
}

// CLEAN FILES
gulp.task('clean', function(cb) {
  return del([paths.dest + "/js/*", paths.dest +  "css/*"], cb);
});


// UGLIFY
gulp.task('uglify', function() {
  return gulp.src(paths.src + '/*.js')
    .pipe(uglify({
      'mangle': true,
      'output': {
        'ascii_only': true
      }
    }))
    .pipe(gulp.dest(paths.dest + "/"));
});

// BUILD
gulp.task('build', ['clean', 'uglify']);

// DEFAULT
gulp.task('default', ['build']);