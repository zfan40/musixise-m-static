beforeEach(function(){

    var Ali = window.Ali || lib.Ali;
    var WindVane = window.WindVane || lib.windvane;
    var call = WindVane.call;
    var returnValues = [
        'HY_SUCCESS',
        'HY_NO_HANDLER',
        'HY_PARAM_ERR',
        'HY_NO_PERMISSION',
        'HY_FAILED',
        'HY_CLOSED'
    ];  

    WindVane.call = function(className, methodName, params, success, failure, timeout){
        call(className, methodName, params, success, failure, timeout);
        var api = className + '.' + methodName;
        switch(api){
            case 'TBDeviceInfo.showServiceMsg':
                if(params && params.serviceMsg){
                    success({ret:returnValues[0]});
                }
                break;
            case 'WebAppInterface.setCustomPageTitle':
                if(params){
                    success({ret:returnValues[0]});
                }
                break;
            case 'WVNative.nativeBack':
                success({ret:returnValues[0]});
                break;
            case 'WVLocation.getLocation':
                success({ret:returnValues[0], address:{
                    city:'杭州市'
                }});
                break;
            case 'WVMotion.listeningShake':
                success({ret:returnValues[0]});
                break;
            case 'WVMotion.vibrate':
                success({ret:returnValues[0]});
                break;
            case 'TBDeviceInfo.getInfo':
                success({ret:returnValues[0], network:'wifi'});
                break;
            case 'WVCamera.takePhoto':
                success({
                    ret: returnValues[0], 
                    resourceURL: 'http://foo.png'
                });
                break;
            case 'WVContacts.choose':
                success({
                    ret: returnValues[0], 
                    name: 'foo',
                    phone: '13800000000'
                });
                break;
        }
    }
});
