var shake_isWatching = false;

function shake_watchHandler() {
	printlog('shaking');
}

function shake_startWatch() {
	if (!shake_isWatching) {
		shake_isWatching = true;
        document.addEventListener('motion.shake', shake_watchHandler, false);

	    var p = {
	    	on: true
	    }

	    window.WindVane.call('WVMotion', 'listeningShake', p, function(e){
	        printlog('success:' + JSON.stringify(e))
	    }, function(e){
	        printlog('failure:' + JSON.stringify(e))
	    })
	}
}

function shake_stopWatch() {
	if (shake_isWatching) {
		shake_isWatching = false;
        document.removeEventListener('motion.shake', shake_watchHandler);
        
	    var p = {
	    	on: false
	    }

	    window.WindVane.call('WVMotion', 'listeningShake', p, function(e){
	        printlog('success:' + JSON.stringify(e))
	    }, function(e){
	        printlog('failure:' + JSON.stringify(e))
	    })
	}

}
